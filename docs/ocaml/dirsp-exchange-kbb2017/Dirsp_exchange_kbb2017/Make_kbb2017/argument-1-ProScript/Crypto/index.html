<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Crypto (dirsp-exchange-kbb2017.Dirsp_exchange_kbb2017.Make_kbb2017.1-ProScript.Crypto)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">dirsp-exchange-kbb2017</a> &#x00BB; <a href="../../../index.html">Dirsp_exchange_kbb2017</a> &#x00BB; <a href="../../index.html">Make_kbb2017</a> &#x00BB; <a href="../index.html">1-ProScript</a> &#x00BB; Crypto</nav><h1>Module <code>1-ProScript.Crypto</code></h1><p>Core cryptographic primitives like SHA-256.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../index.html#type-t">t</a></code></dt><dd><p>The type that will be used to represent contiguous bytes; typically either Bytes.t or Cstruct.t</p></dd></dl><dl><dt class="spec type" id="type-aes_encrypted"><a href="#type-aes_encrypted" class="anchor"></a><code><span class="keyword">type</span> aes_encrypted</code><code> = </code><code>{</code><table class="record"><tr id="type-aes_encrypted.ciphertext" class="anchored"><td class="def field"><a href="#type-aes_encrypted.ciphertext" class="anchor"></a><code>ciphertext : <a href="index.html#type-t">t</a>;</code></td></tr><tr id="type-aes_encrypted.tag" class="anchored"><td class="def field"><a href="#type-aes_encrypted.tag" class="anchor"></a><code>tag : <a href="index.html#type-t">t</a>;</code></td></tr></table><code>}</code></dt><dd><p>Encrypted AES data</p></dd></dl><dl><dt class="spec type" id="type-aes_decrypted"><a href="#type-aes_decrypted" class="anchor"></a><code><span class="keyword">type</span> aes_decrypted</code><code> = </code><code>{</code><table class="record"><tr id="type-aes_decrypted.plaintext" class="anchored"><td class="def field"><a href="#type-aes_decrypted.plaintext" class="anchor"></a><code>plaintext : <a href="index.html#type-t">t</a>;</code></td></tr><tr id="type-aes_decrypted.valid" class="anchored"><td class="def field"><a href="#type-aes_decrypted.valid" class="anchor"></a><code>valid : bool;</code></td></tr></table><code>}</code></dt><dd><p>Decrypted AES data</p></dd></dl><dl><dt class="spec value" id="val-random12Bytes"><a href="#val-random12Bytes" class="anchor"></a><code><span class="keyword">val</span> random12Bytes : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>random12Bytes id</code> creates a 12-byte random buffer with <code>id</code> providing a random generation hint.</p><p><code>id</code> will be ignored for a true random number generator. But <code>id</code> may be used for mock random number generators or pseudo random generators to provide repeatability.</p><dl><dt>raises Crypto_failure</dt><dd><p>for a failure to generate random numbers</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-random32Bytes"><a href="#val-random32Bytes" class="anchor"></a><code><span class="keyword">val</span> random32Bytes : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>random32Bytes id</code> creates a 32-byte random buffer with <code>id</code> providing a random generation hint.</p><p><code>id</code> will be ignored for a true random number generator. But <code>id</code> may be used for mock random number generators or pseudo random generators to provide repeatability.</p><dl><dt>raises Crypto_failure</dt><dd><p>for a failure to generate random numbers</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-xDH25519"><a href="#val-xDH25519" class="anchor"></a><code><span class="keyword">val</span> xDH25519 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>xDH25519 scalar base</code>, commonly known as X25519, creates a public key or shared secret using the product of the private key <code>scalar</code> and the base point or public key <code>base</code> on an elliptic curve.</p><dl><dt>parameter scalar</dt><dd><p>Private key in a 32-byte buffer</p></dd></dl><dl><dt>parameter base</dt><dd><p>Base point (or public key)</p></dd></dl><dl><dt>returns</dt><dd><p>Public key (or shared secret if <code>base</code> was a public key) in a 32-byte buffer</p></dd></dl><dl><dt>raises Crypto_failure</dt><dd><p>when the private key or base point are not both 32 bytes long</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-xAESGCMEncrypt"><a href="#val-xAESGCMEncrypt" class="anchor"></a><code><span class="keyword">val</span> xAESGCMEncrypt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-aes_encrypted">aes_encrypted</a></code></dt><dd><p><code>xAESGCMEncrypt k iv m aad</code> encrypts the message <code>m</code> with the symmetric key <code>k</code> and an initialization vector <code>iv</code> and any additional authenticated data <code>aad</code> using the AES-GCM algorithm.</p><dl><dt>raises Crypto_failure</dt><dd><p>when the symmetric key is not a correct length for AES or when the initialization vector is not a correct length for AES-GCM</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-xAESGCMDecrypt"><a href="#val-xAESGCMDecrypt" class="anchor"></a><code><span class="keyword">val</span> xAESGCMDecrypt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-aes_encrypted">aes_encrypted</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-aes_decrypted">aes_decrypted</a></code></dt><dd><p><code>xAESGCMDecrypt k iv m aad</code> decrypts the message <code>m</code> with the symmetric key <code>k</code> and an initialization vector <code>iv</code> and any additional authenticated data <code>aad</code> using the AES-GCM algorithm.</p><p>Check the validity of the result by looking at the returned <a href="index.html#type-aes_decrypted.valid"><code>aes_decrypted.valid</code></a>.</p><dl><dt>raises Crypto_failure</dt><dd><p>when the symmetric key is not a correct length for AES or when the initialization vector is not a correct length for AES-GCM</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-xSHA256"><a href="#val-xSHA256" class="anchor"></a><code><span class="keyword">val</span> xSHA256 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>xSHA256 m</code> constructs the SHA-256 hexadecimal digest of message <code>m</code>.</p><p><b>Be aware</b> that this function gives the ASCII bytes of the hexdump of the SHA-256 digest, not the raw SHA-256 digest bytes. The bytes look like the output of the first column from the UNIX program &quot;sha256sum&quot;.</p></dd></dl><dl><dt class="spec value" id="val-xSHA512"><a href="#val-xSHA512" class="anchor"></a><code><span class="keyword">val</span> xSHA512 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>xSHA512 m</code> constructs the SHA-512 hexadecimal digest of message <code>m</code>.</p><p><b>Be aware</b> that this function gives the ASCII bytes of the hexdump of the SHA-512 digest, not the raw SHA-512 digest bytes. The bytes look like the output of the first column from the UNIX program &quot;sha512sum&quot;.</p></dd></dl><dl><dt class="spec value" id="val-xHMACSHA256"><a href="#val-xHMACSHA256" class="anchor"></a><code><span class="keyword">val</span> xHMACSHA256 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>xHMACSHA256 k m</code> constructs the authentication code for message <code>m</code> under the secret key <code>k</code> using standard HMAC construction over SHA-256, commonly known as the HMAC-SHA-256 algorithm.</p></dd></dl><div class="spec module" id="module-ED25519"><a href="#module-ED25519" class="anchor"></a><code><span class="keyword">module</span> <a href="ED25519/index.html">ED25519</a> : <a href="../../../../../dirsp-proscript/Dirsp_proscript/index.html#module-type-PROSCRIPT_CRYPTO_ED25519">Dirsp_proscript.PROSCRIPT_CRYPTO_ED25519</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../../dirsp-proscript/Dirsp_proscript/module-type-PROSCRIPT_CRYPTO_ED25519/index.html#type-t">t</a> = <a href="index.html#type-t">t</a></code></div></div></body></html>