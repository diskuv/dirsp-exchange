<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ED25519 (dirsp-exchange-kbb2017.Dirsp_exchange_kbb2017.Make_kbb2017.1-ProScript.Crypto.ED25519)</title><link rel="stylesheet" href="../../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">dirsp-exchange-kbb2017</a> &#x00BB; <a href="../../../../index.html">Dirsp_exchange_kbb2017</a> &#x00BB; <a href="../../../index.html">Make_kbb2017</a> &#x00BB; <a href="../../index.html">1-ProScript</a> &#x00BB; <a href="../index.html">Crypto</a> &#x00BB; ED25519</nav><h1>Module <code>Crypto.ED25519</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../index.html#type-t">t</a></code></dt><dd><p>The type that will be used to represent contiguous bytes; typically either Bytes.t or Cstruct.t</p></dd></dl><dl><dt class="spec value" id="val-publicKey"><a href="#val-publicKey" class="anchor"></a><code><span class="keyword">val</span> publicKey : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>publicKey sk</code> computes the 32-byte ED25519 public key for the secret key <code>sk</code>.</p><dl><dt>raises Crypto_failure</dt><dd><p>when the secret key is not 32 bytes</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-checkValid"><a href="#val-checkValid" class="anchor"></a><code><span class="keyword">val</span> checkValid : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>checkValid s m pk</code> checks the message <code>m</code> for a valid signature <code>s</code> signed by the private key that corresponds to the raw public key <code>pk</code>.</p><dl><dt>raises Crypto_failure</dt><dd><p>when the signature is not 64 bytes or the public key is not 32 bytes</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-signature"><a href="#val-signature" class="anchor"></a><code><span class="keyword">val</span> signature : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>signature m sk pk</code> calculates the ED25519 signature of <code>m</code> with a raw 32-byte secret key <code>sk</code> and its corresponding raw 32-byte public key <code>pk</code> created with <code>(</code><a href="index.html#val-publicKey"><code>publicKey</code></a><code> sk</code>.</p><p><b>WARNING</b>: It is <em>incorrect</em> to create a ED25519 signature using a public key <code>pk</code> that is not derived from the secret key <code>sk</code>. You provide the <code>pk</code> simply because doing so is the ProScript API, and because it can be a performance win to not recompute <a href="index.html#val-publicKey"><code>publicKey</code></a> each time you do a signature.</p><p>1. You need to hex encode the message.</p><p>Checks may or may not be performed to verify you gave the correct public key. Implementations have the freedom to ignore whatever public key you provide (ex. <code>dirsp-proscript-mirage</code> will recompute the public key and ignore your public key).</p><dl><dt>raises Crypto_failure</dt><dd><p>when the secret or public key is not 32 bytes</p></dd></dl></dd></dl></div></body></html>